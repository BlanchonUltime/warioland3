TreasureGfx:
Treasure000Gfx: ; 98000 (26:4000)
INCBIN "gfx/treasures/treasure_000.2bpp"

Treasure001Gfx: ; 98040 (26:4040)
INCBIN "gfx/treasures/treasure_001.2bpp"

Treasure002Gfx: ; 98080 (26:4080)
INCBIN "gfx/treasures/treasure_002.2bpp"

Treasure003Gfx: ; 980c0 (26:40c0)
INCBIN "gfx/treasures/treasure_003.2bpp"

Treasure004Gfx: ; 98100 (26:4100)
INCBIN "gfx/treasures/treasure_004.2bpp"

Treasure005Gfx: ; 98140 (26:4140)
INCBIN "gfx/treasures/treasure_005.2bpp"

Treasure006Gfx: ; 98180 (26:4180)
INCBIN "gfx/treasures/treasure_006.2bpp"

Treasure007Gfx: ; 981c0 (26:41c0)
INCBIN "gfx/treasures/treasure_007.2bpp"

Treasure008Gfx: ; 98200 (26:4200)
INCBIN "gfx/treasures/treasure_008.2bpp"

Treasure009Gfx: ; 98240 (26:4240)
INCBIN "gfx/treasures/treasure_009.2bpp"

Treasure010Gfx: ; 98280 (26:4280)
INCBIN "gfx/treasures/treasure_010.2bpp"

Treasure011Gfx: ; 982c0 (26:42c0)
INCBIN "gfx/treasures/treasure_011.2bpp"

Treasure012Gfx: ; 98300 (26:4300)
INCBIN "gfx/treasures/treasure_012.2bpp"

Treasure013Gfx: ; 98340 (26:4340)
INCBIN "gfx/treasures/treasure_013.2bpp"

Treasure014Gfx: ; 98380 (26:4380)
INCBIN "gfx/treasures/treasure_014.2bpp"

Treasure015Gfx: ; 983c0 (26:43c0)
INCBIN "gfx/treasures/treasure_015.2bpp"

Treasure016Gfx: ; 98400 (26:4400)
INCBIN "gfx/treasures/treasure_016.2bpp"

Treasure017Gfx: ; 98440 (26:4440)
INCBIN "gfx/treasures/treasure_017.2bpp"

Treasure018Gfx: ; 98480 (26:4480)
INCBIN "gfx/treasures/treasure_018.2bpp"

Treasure019Gfx: ; 984c0 (26:44c0)
INCBIN "gfx/treasures/treasure_019.2bpp"

Treasure020Gfx: ; 98500 (26:4500)
INCBIN "gfx/treasures/treasure_020.2bpp"

Treasure021Gfx: ; 98540 (26:4540)
INCBIN "gfx/treasures/treasure_021.2bpp"

Treasure022Gfx: ; 98580 (26:4580)
INCBIN "gfx/treasures/treasure_022.2bpp"

Treasure023Gfx: ; 985c0 (26:45c0)
INCBIN "gfx/treasures/treasure_023.2bpp"

Treasure024Gfx: ; 98600 (26:4600)
INCBIN "gfx/treasures/treasure_024.2bpp"

Treasure025Gfx: ; 98640 (26:4640)
INCBIN "gfx/treasures/treasure_025.2bpp"

Treasure026Gfx: ; 98680 (26:4680)
INCBIN "gfx/treasures/treasure_026.2bpp"

Treasure027Gfx: ; 986c0 (26:46c0)
INCBIN "gfx/treasures/treasure_027.2bpp"

Treasure028Gfx: ; 98700 (26:4700)
INCBIN "gfx/treasures/treasure_028.2bpp"

Treasure029Gfx: ; 98740 (26:4740)
INCBIN "gfx/treasures/treasure_029.2bpp"

Treasure030Gfx: ; 98780 (26:4780)
INCBIN "gfx/treasures/treasure_030.2bpp"

Treasure031Gfx: ; 987c0 (26:47c0)
INCBIN "gfx/treasures/treasure_031.2bpp"

Treasure032Gfx: ; 98800 (26:4800)
INCBIN "gfx/treasures/treasure_032.2bpp"

Treasure033Gfx: ; 98840 (26:4840)
INCBIN "gfx/treasures/treasure_033.2bpp"

Treasure034Gfx: ; 98880 (26:4880)
INCBIN "gfx/treasures/treasure_034.2bpp"

Treasure035Gfx: ; 988c0 (26:48c0)
INCBIN "gfx/treasures/treasure_035.2bpp"

Treasure036Gfx: ; 98900 (26:4900)
INCBIN "gfx/treasures/treasure_036.2bpp"

Treasure037Gfx: ; 98940 (26:4940)
INCBIN "gfx/treasures/treasure_037.2bpp"

Treasure038Gfx: ; 98980 (26:4980)
INCBIN "gfx/treasures/treasure_038.2bpp"

Treasure039Gfx: ; 989c0 (26:49c0)
INCBIN "gfx/treasures/treasure_039.2bpp"

Treasure040Gfx: ; 98a00 (26:4a00)
INCBIN "gfx/treasures/treasure_040.2bpp"

Treasure041Gfx: ; 98a40 (26:4a40)
INCBIN "gfx/treasures/treasure_041.2bpp"

Treasure042Gfx: ; 98a80 (26:4a80)
INCBIN "gfx/treasures/treasure_042.2bpp"

Treasure043Gfx: ; 98ac0 (26:4ac0)
INCBIN "gfx/treasures/treasure_043.2bpp"

Treasure044Gfx: ; 98b00 (26:4b00)
INCBIN "gfx/treasures/treasure_044.2bpp"

Treasure045Gfx: ; 98b40 (26:4b40)
INCBIN "gfx/treasures/treasure_045.2bpp"

Treasure046Gfx: ; 98b80 (26:4b80)
INCBIN "gfx/treasures/treasure_046.2bpp"

Treasure047Gfx: ; 98bc0 (26:4bc0)
INCBIN "gfx/treasures/treasure_047.2bpp"

Treasure048Gfx: ; 98c00 (26:4c00)
INCBIN "gfx/treasures/treasure_048.2bpp"

Treasure049Gfx: ; 98c40 (26:4c40)
INCBIN "gfx/treasures/treasure_049.2bpp"

Treasure050Gfx: ; 98c80 (26:4c80)
INCBIN "gfx/treasures/treasure_050.2bpp"

Treasure051Gfx: ; 98cc0 (26:4cc0)
INCBIN "gfx/treasures/treasure_051.2bpp"

Treasure052Gfx: ; 98d00 (26:4d00)
INCBIN "gfx/treasures/treasure_052.2bpp"

Treasure053Gfx: ; 98d40 (26:4d40)
INCBIN "gfx/treasures/treasure_053.2bpp"

Treasure054Gfx: ; 98d80 (26:4d80)
INCBIN "gfx/treasures/treasure_054.2bpp"

Treasure055Gfx: ; 98dc0 (26:4dc0)
INCBIN "gfx/treasures/treasure_055.2bpp"

Treasure056Gfx: ; 98e00 (26:4e00)
INCBIN "gfx/treasures/treasure_056.2bpp"

Treasure057Gfx: ; 98e40 (26:4e40)
INCBIN "gfx/treasures/treasure_057.2bpp"

Treasure058Gfx: ; 98e80 (26:4e80)
INCBIN "gfx/treasures/treasure_058.2bpp"

Treasure059Gfx: ; 98ec0 (26:4ec0)
INCBIN "gfx/treasures/treasure_059.2bpp"

Treasure060Gfx: ; 98f00 (26:4f00)
INCBIN "gfx/treasures/treasure_060.2bpp"

Treasure061Gfx: ; 98f40 (26:4f40)
INCBIN "gfx/treasures/treasure_061.2bpp"

Treasure062Gfx: ; 98f80 (26:4f80)
INCBIN "gfx/treasures/treasure_062.2bpp"

Treasure063Gfx: ; 98fc0 (26:4fc0)
INCBIN "gfx/treasures/treasure_063.2bpp"

Treasure064Gfx: ; 99000 (26:5000)
INCBIN "gfx/treasures/treasure_064.2bpp"

Treasure065Gfx: ; 99040 (26:5040)
INCBIN "gfx/treasures/treasure_065.2bpp"

Treasure066Gfx: ; 99080 (26:5080)
INCBIN "gfx/treasures/treasure_066.2bpp"

Treasure067Gfx: ; 990c0 (26:50c0)
INCBIN "gfx/treasures/treasure_067.2bpp"

Treasure068Gfx: ; 99100 (26:5100)
INCBIN "gfx/treasures/treasure_068.2bpp"

Treasure069Gfx: ; 99140 (26:5140)
INCBIN "gfx/treasures/treasure_069.2bpp"

Treasure070Gfx: ; 99180 (26:5180)
INCBIN "gfx/treasures/treasure_070.2bpp"

Treasure071Gfx: ; 991c0 (26:51c0)
INCBIN "gfx/treasures/treasure_071.2bpp"

Treasure072Gfx: ; 99200 (26:5200)
INCBIN "gfx/treasures/treasure_072.2bpp"

Treasure073Gfx: ; 99240 (26:5240)
INCBIN "gfx/treasures/treasure_073.2bpp"

Treasure074Gfx: ; 99280 (26:5280)
INCBIN "gfx/treasures/treasure_074.2bpp"

Treasure075Gfx: ; 992c0 (26:52c0)
INCBIN "gfx/treasures/treasure_075.2bpp"

Treasure076Gfx: ; 99300 (26:5300)
INCBIN "gfx/treasures/treasure_076.2bpp"

Treasure077Gfx: ; 99340 (26:5340)
INCBIN "gfx/treasures/treasure_077.2bpp"

Treasure078Gfx: ; 99380 (26:5380)
INCBIN "gfx/treasures/treasure_078.2bpp"

Treasure079Gfx: ; 993c0 (26:53c0)
INCBIN "gfx/treasures/treasure_079.2bpp"

Treasure080Gfx: ; 99400 (26:5400)
INCBIN "gfx/treasures/treasure_080.2bpp"

Treasure081Gfx: ; 99440 (26:5440)
INCBIN "gfx/treasures/treasure_081.2bpp"

Treasure082Gfx: ; 99480 (26:5480)
INCBIN "gfx/treasures/treasure_082.2bpp"

Treasure083Gfx: ; 994c0 (26:54c0)
INCBIN "gfx/treasures/treasure_083.2bpp"

Treasure084Gfx: ; 99500 (26:5500)
INCBIN "gfx/treasures/treasure_084.2bpp"

Treasure085Gfx: ; 99540 (26:5540)
INCBIN "gfx/treasures/treasure_085.2bpp"

Treasure086Gfx: ; 99580 (26:5580)
INCBIN "gfx/treasures/treasure_086.2bpp"

Treasure087Gfx: ; 995c0 (26:55c0)
INCBIN "gfx/treasures/treasure_087.2bpp"

Treasure088Gfx: ; 99600 (26:5600)
INCBIN "gfx/treasures/treasure_088.2bpp"

Treasure089Gfx: ; 99640 (26:5640)
INCBIN "gfx/treasures/treasure_089.2bpp"

Treasure090Gfx: ; 99680 (26:5680)
INCBIN "gfx/treasures/treasure_090.2bpp"

Treasure091Gfx: ; 996c0 (26:56c0)
INCBIN "gfx/treasures/treasure_091.2bpp"

Treasure092Gfx: ; 99700 (26:5700)
INCBIN "gfx/treasures/treasure_092.2bpp"

Treasure093Gfx: ; 99740 (26:5740)
INCBIN "gfx/treasures/treasure_093.2bpp"

Treasure094Gfx: ; 99780 (26:5780)
INCBIN "gfx/treasures/treasure_094.2bpp"

Treasure095Gfx: ; 997c0 (26:57c0)
INCBIN "gfx/treasures/treasure_095.2bpp"

Treasure096Gfx: ; 99800 (26:5800)
INCBIN "gfx/treasures/treasure_096.2bpp"

Treasure097Gfx: ; 99840 (26:5840)
INCBIN "gfx/treasures/treasure_097.2bpp"

Treasure098Gfx: ; 99880 (26:5880)
INCBIN "gfx/treasures/treasure_098.2bpp"

Treasure099Gfx: ; 998c0 (26:58c0)
INCBIN "gfx/treasures/treasure_099.2bpp"

Treasure100Gfx: ; 99900 (26:5900)
INCBIN "gfx/treasures/treasure_100.2bpp"

Treasure101Gfx: ; 99940 (26:5940)
INCBIN "gfx/treasures/treasure_101.2bpp"

	INCROM $99980, $9aa90

LoadLevelTreasureData: ; 9aa90 (26:6a90)
	ldh a, [rSVBK]

	push af
	ld a, 2 ; WRAM2
	ldh [rSVBK], a
	call ClearTreasureData
	call LoadLevelTreasures
	call LoadTreasureInfo
	call LoadTreasureTiles

	xor a ; VRAM0
	ldh [rVBK], a
	ld hl, wTreasureTiles
	ld de, v0Tiles1 + $100
	ld b, $00 ; $100 bytes = 10 tiles
	call CopyHLToDE
	pop af

	ldh [rSVBK], a
	ret
; 0x9aab5

	INCROM $9aab5, $9ab07

ClearTreasureData: ; 9ab07 (26:6b07)
; clear the treasure tiles
	xor a
	ld hl, wTreasureTiles
	ld bc, 16 tiles
	call WriteAToHL_BCTimes

; clear the treasure info
	xor a
	ld hl, wLevelTreasureIDs
	ld bc, $10
	call WriteAToHL_BCTimes
	ret
; 0x9ab1c

	INCROM $9ab1c, $9ab34

LoadTreasureTiles: ; 9ab34 (26:6b34)
	ld a, [wLevelTreasure1ID]
	ld de, wTreasureTiles
	call .CopyGfx
	ld a, [wLevelTreasure2ID]
	call .CopyGfx
	ld a, [wLevelTreasure3ID]
	call .CopyGfx
	ld a, [wLevelTreasure4ID]
	call .CopyGfx
	; bug, fallthrough

.CopyGfx
; this gets right addr given that a < 128
	and a
	ld b, $00
	rla
	rla
	rl b
	ld c, a
	and $f0
	or b
	swap a
	ld b, a
	ld a, $0f
	and c
	swap a
	ld c, a
    ; bc = a * 4 tiles
	ld hl, TreasureGfx
	add hl, bc
	ld b, 4 tiles
	call CopyHLToDE
	ret
; 0x9ab6d

	INCROM $9ab6d, $9ab85

; loads in wLevelTreasureIDs the treasure IDs for level in wOWLevel
LoadLevelTreasures: ; 9ab85 (26:6b85)
	ld hl, LevelTreasureIDs
	ld de, wLevelTreasureIDs
	call .GetLevelTreasures
	ret ; can be fallthrough

.GetLevelTreasures
	ld a, [wOWLevel]
	add a
	add a ; *4
	ld c, a
	ld b, $00
	add hl, bc
	ld b, NUM_LEVEL_TREASURES
.loop
	ld a, [hli]
	ld [de], a
	inc e
	dec b
	jr nz, .loop
	ret
; 0x9aba1

LoadTreasureInfo: ; 9aba1 (26:6ba1)
	ld de, Data_9abf7
	ld a, [wLevelTreasure1ID]
	ld l, a
	ld h, $00
	add hl, de
	ld a, [hl]
	ld [wLevelTreasure1Unk], a

	ld a, [wLevelTreasure2ID]
	ld l, a
	ld h, $00
	add hl, de
	ld a, [hl]
	ld [wLevelTreasure2Unk], a

	ld a, [wLevelTreasure3ID]
	ld l, a
	ld h, $00
	add hl, de
	ld a, [hl]
	ld [wLevelTreasure3Unk], a

	ld a, [wLevelTreasure4ID]
	ld l, a
	ld h, $00
	add hl, de
	ld a, [hl]
	ld [wLevelTreasure4Unk], a
	ret
; 0x9abd1

	INCROM $9abd1, $9abf7

Data_9abf7: ; 9abf7 (26:6bf7)
	db $04 ; TREASURE_NONE
	db $04 ; TREASURE_YELLOW_MUSIC_BOX
	db $07 ; TREASURE_BLUE_MUSIC_BOX
	db $06 ; TREASURE_GREEN_MUSIC_BOX
	db $05 ; TREASURE_RED_MUSIC_BOX
	db $04 ; TREASURE_GOLD_MUSIC_BOX
	db $06 ; TREASURE_PRINCE_FROGS_GLOVE
	db $06 ; TREASURE_SWIMMING_FLIPPERS
	db $07 ; TREASURE_HIGH_JUMP_BOOTS
	db $04 ; TREASURE_SUPER_GRAB_GLOVES
	db $04 ; TREASURE_SUPER_SMASH
	db $05 ; TREASURE_GRAB_GLOVE
	db $07 ; TREASURE_LEAD_OVERALLS
	db $05 ; TREASURE_SUPER_JUMP_SLAM_OVERALLS
	db $06 ; TREASURE_HEAD_SMASH_HELMET
	db $04 ; TREASURE_LANTERN
	db $05 ; TREASURE_MAGICAL_FLAME
	db $05 ; TREASURE_TORCH
	db $07 ; TREASURE_GEAR_1
	db $07 ; TREASURE_GEAR_2
	db $07 ; TREASURE_WARP_COMPACT
	db $07 ; TREASURE_JAR
	db $04 ; TREASURE_TREASURE_MAP
	db $07 ; TREASURE_BLUE_BOOK
	db $04 ; TREASURE_MAGIC_WAND
	db $04 ; TREASURE_SKY_KEY
	db $06 ; TREASURE_YELLOW_BOOK
	db $07 ; TREASURE_TRIDENT
	db $04 ; TREASURE_AXE
	db $07 ; TREASURE_SKULL_RING_BLUE
	db $05 ; TREASURE_SKULL_RING_RED
	db $07 ; TREASURE_BLUE_TABLET
	db $06 ; TREASURE_GREEN_TABLET
	db $05 ; TREASURE_ORNAMENTAL_FAN
	db $04 ; TREASURE_TOP_HALF_OF_SCROLL
	db $04 ; TREASURE_BOTTOM_HALF_OF_SCROL
	db $06 ; TREASURE_TUSK_BLUE
	db $06 ; TREASURE_TUSK_RED
	db $06 ; TREASURE_GREEN_FLOWER
	db $07 ; TREASURE_BLUE_CHEMICAL
	db $05 ; TREASURE_RED_CHEMICAL
	db $04 ; TREASURE_AIR_PUMP
	db $04 ; TREASURE_SAPLING_OF_GROWTH
	db $06 ; TREASURE_NIGHT_VISION_SCOPE
	db $07 ; TREASURE_ELECTRIC_FAN_PROPELLER
	db $05 ; TREASURE_RUST_SPRAY
	db $05 ; TREASURE_STATUE
	db $07 ; TREASURE_EXPLOSIVE_PLUNGER_BOX
	db $07 ; TREASURE_SCISSORS
	db $05 ; TREASURE_CASTLE_BRICK
	db $06 ; TREASURE_WARP_REMOVAL_APPARATUS
	db $05 ; TREASURE_KEY_CARD_RED
	db $07 ; TREASURE_KEY_CARD_BLUE
	db $06 ; TREASURE_JACKHAMMER
	db $04 ; TREASURE_PICK_AXE
	db $04 ; TREASURE_ROCKET
	db $04 ; TREASURE_POCKET_PET
	db $07 ; TREASURE_MYSTERY_HANDLE
	db $05 ; TREASURE_DEMONS_BLOOD
	db $04 ; TREASURE_GOLD_MAGIC
	db $07 ; TREASURE_FIGHTER_MANNEQUIN
	db $07 ; TREASURE_TRUCK_WHEEL
	db $04 ; TREASURE_FLUTE
	db $06 ; TREASURE_FOOT_OF_STONE
	db $04 ; TREASURE_GOLDEN_RIGHT_EYE
	db $04 ; TREASURE_GOLDEN_LEFT_EYE
	db $07 ; TREASURE_RIGHT_GLASS_EYE
	db $07 ; TREASURE_LEFT_GLASS_EYE
	db $07 ; TREASURE_SCEPTER
	db $05 ; TREASURE_SUN_MEDALLION_TOP
	db $05 ; TREASURE_SUN_MEDALLION_BOTTOM
	db $07 ; TREASURE_EYE_OF_THE_STORM
	db $06 ; TREASURE_POUCH
	db $07 ; TREASURE_MAGIC_SEEDS
	db $04 ; TREASURE_FULL_MOON_GONG
	db $06 ; TREASURE_TELEPHONE
	db $05 ; TREASURE_CROWN
	db $05 ; TREASURE_DAY_OR_NIGHT_SPELL
	db $05 ; TREASURE_RED_GEM
	db $06 ; TREASURE_GREEN_GEM
	db $07 ; TREASURE_BLUE_GEM
	db $06 ; TREASURE_CLUBS_CREST
	db $04 ; TREASURE_SPADES_CREST
	db $05 ; TREASURE_HEART_CREST
	db $07 ; TREASURE_DIAMONDS_CREST
	db $04 ; TREASURE_EARTHEN_FIGURE
	db $07 ; TREASURE_SABER
	db $07 ; TREASURE_GOBLET
	db $04 ; TREASURE_TEAPOT
	db $07 ; TREASURE_MAGNIFYING_GLASS
	db $07 ; TREASURE_UFO
	db $05 ; TREASURE_MINICAR
	db $04 ; TREASURE_LOCOMOTIVE
	db $05 ; TREASURE_FIRE_DRENCHER
	db $05 ; TREASURE_CRAYON_RED
	db $04 ; TREASURE_CRAYON_BROWN
	db $04 ; TREASURE_CRAYON_YELLOW
	db $06 ; TREASURE_CRAYON_GREEN
	db $07 ; TREASURE_CRAYON_CYAN
	db $07 ; TREASURE_CRAYON_BLUE
	db $05 ; TREASURE_CRAYON_PINK
	db $03 ; TREASURE_101
; 0x9ac5d

	INCROM $9ac5d, $9ad86
